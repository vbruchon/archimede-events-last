<?php

namespace App\Services;

use Spatie\IcalendarGenerator\Components\Calendar;
use Spatie\IcalendarGenerator\Components\Event;



class EventExportFileService
{
    public function exportToICS($events)
    {
        // CrÃ©ez un nouveau calendrier
        $calendar = Calendar::create('ArchimÃ¨de Event to Calendar');

       // Ajoutez chaque Ã©vÃ©nement au calendrier
       foreach ($events as $event) {
        $calendar->event(
            Event::create()
                ->name($event->name)
                ->startsAt($event->date_start)
                ->endsAt($event->date_end)
        );
    }

        return $calendar->get();
    }
}
